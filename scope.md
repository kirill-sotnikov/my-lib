# Область видимости

> Область видимости состоит из пузырей, каждый пузырь представляет собой нечто вроде контейнера, в котором объявляются идентификаторы. Пузыри могу быть вложены друг в друга.

**_Состояние программы_** - возможность сохранения и чтения значений из переменных.

**_Область видимости_** - чётко определенный набор правил для хранения переменных в определенном месте и их нахождения в будущем.

- **Движок** - отвечает за всю компиляцию от начала до конца и выполнение программы JavaScript.
- **Компилятор** - берёт на себя всю чёрнуб работу по разбору и генерированию кода.
- **Область видимости** - собирает и ведет список всех объявленных идентификаторов (переменных) и устанавливает строгий набор правил их доступности для кода, выполняемого в данный момент.

## Процесс обработки программы

Компилятор проводит лексический анализ и разбирает программу на токены, которые затем разбираются в дерево. (Пример var a = 2)

- Когда компилятор добирается до генерирования кода, обнаруживая var a, он обращается к Области видимости, чтобы узнать, существует ли переменная в наборе этой конекретной Области видимости. Если переменная существует, то компилятор игнорирует объявление и двигается дальше. В противном случае Компилятор обращается к Области видимости для объявления новой переменной.
- Далее код, выполняемый Движком сначала спрашивает у Области видимости, доступна ли переменная с именем а в наборе текущей области видимости. Если переменная доступна, то Движок использует эту переменную. Если нет, ищет в других вложенных областях.

## Лексическая область видимости

**Лексическая область видимости** - область видимости, определяемая на стадии лексического анализа.

> Неважно, где и как вызвается функция - ее лексическая область видимости определяется только тем, где была объявлена функция

## Функциональная область видимости

Функциональная область видимости подчеркивает ту идею, что все переменные принадлежат функции и могут использоваться во всей этой функции.

### Польза функциональной ОВ

- предотвращение случайных конфликтов между идентификаторами с одинаковыми именами, но разным предполагаемым использованием.

## Блочная область видимости

### Суть блочной ОВ

- Суть заключается в том, чтобы объявлять переменные как можно ближе к месту их исполоьзования, делая их как можно более локальными.

- **Try/Catch** имеют блочную ОВ

- **let** присоединяет объявление переменной к области видимости того блока (обычно паре фигурных скобок {..}), в которой оно содержится.
  Иначе говоря, let неявно заимствует область видимости любого блока для объявления своей переменной. Такие объявления не будут существовать в блоке до команды объявления.
- **const** создаёт константу, переменную с блочной областью видимости, значение которой остаётся фиксированным. Любая попытка изменить это значение в будущем приводит к ошибке.
- про
